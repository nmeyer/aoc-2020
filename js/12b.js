const TEST_INPUT = [
    'F:10',
    'N:3',
    'F:7',
    'L:270',
    'F:11'
];
const TEST_ANSWER = 286;

const FULL_INPUT = [
    'F:47',
    'W:2',
    'S:5',
    'R:180',
    'R:90',
    'N:3',
    'F:44',
    'W:1',
    'N:3',
    'F:77',
    'S:5',
    'L:270',
    'F:39',
    'N:3',
    'L:90',
    'F:83',
    'W:4',
    'R:270',
    'E:2',
    'F:98',
    'N:3',
    'R:180',
    'N:3',
    'F:54',
    'N:1',
    'W:4',
    'R:90',
    'N:1',
    'L:90',
    'S:2',
    'E:4',
    'N:4',
    'W:2',
    'R:90',
    'F:42',
    'W:3',
    'S:4',
    'L:90',
    'E:5',
    'F:6',
    'R:180',
    'N:4',
    'E:5',
    'R:180',
    'E:3',
    'N:3',
    'F:27',
    'L:90',
    'S:4',
    'L:180',
    'E:4',
    'F:52',
    'E:2',
    'N:1',
    'R:90',
    'E:3',
    'S:4',
    'F:76',
    'R:270',
    'W:2',
    'R:90',
    'S:2',
    'R:90',
    'F:79',
    'S:1',
    'L:180',
    'F:81',
    'E:3',
    'F:79',
    'L:90',
    'S:3',
    'L:180',
    'F:52',
    'S:5',
    'L:90',
    'N:4',
    'W:2',
    'F:65',
    'N:2',
    'W:1',
    'R:90',
    'F:25',
    'W:4',
    'L:90',
    'S:2',
    'R:90',
    'N:1',
    'F:13',
    'W:1',
    'N:1',
    'F:71',
    'N:3',
    'L:90',
    'W:4',
    'R:90',
    'F:91',
    'W:5',
    'N:3',
    'W:3',
    'S:3',
    'F:58',
    'W:4',
    'N:5',
    'W:3',
    'F:42',
    'S:4',
    'E:5',
    'N:3',
    'F:14',
    'L:180',
    'E:5',
    'L:270',
    'F:55',
    'N:3',
    'R:90',
    'R:90',
    'S:4',
    'F:55',
    'W:2',
    'N:1',
    'W:5',
    'R:180',
    'F:8',
    'E:3',
    'L:270',
    'N:2',
    'F:12',
    'N:2',
    'R:90',
    'W:1',
    'R:90',
    'W:2',
    'L:90',
    'S:2',
    'F:75',
    'L:90',
    'S:4',
    'E:3',
    'F:82',
    'L:90',
    'L:90',
    'F:42',
    'N:4',
    'E:5',
    'F:67',
    'R:90',
    'E:3',
    'F:64',
    'E:4',
    'R:90',
    'F:42',
    'S:4',
    'F:85',
    'W:5',
    'S:5',
    'R:90',
    'F:35',
    'R:270',
    'W:5',
    'F:67',
    'R:90',
    'S:5',
    'R:180',
    'S:1',
    'F:13',
    'N:4',
    'W:5',
    'S:2',
    'F:31',
    'L:90',
    'E:2',
    'F:39',
    'R:90',
    'F:3',
    'W:4',
    'N:2',
    'F:14',
    'E:2',
    'F:80',
    'L:180',
    'F:52',
    'N:3',
    'E:2',
    'F:98',
    'W:2',
    'F:29',
    'R:180',
    'E:2',
    'L:90',
    'W:4',
    'N:3',
    'W:1',
    'S:2',
    'W:1',
    'N:5',
    'F:6',
    'E:5',
    'E:1',
    'W:2',
    'R:90',
    'S:3',
    'F:92',
    'L:90',
    'E:5',
    'F:55',
    'L:90',
    'S:3',
    'R:90',
    'S:2',
    'L:90',
    'N:1',
    'E:5',
    'F:50',
    'L:90',
    'N:4',
    'F:9',
    'L:90',
    'N:4',
    'L:90',
    'R:90',
    'R:180',
    'E:3',
    'F:57',
    'L:90',
    'S:5',
    'R:180',
    'S:3',
    'E:4',
    'F:41',
    'W:5',
    'N:4',
    'W:2',
    'N:2',
    'R:90',
    'S:2',
    'W:1',
    'F:83',
    'R:180',
    'W:1',
    'R:90',
    'W:1',
    'F:17',
    'F:20',
    'S:1',
    'E:5',
    'F:13',
    'N:5',
    'F:8',
    'F:81',
    'E:2',
    'S:4',
    'F:7',
    'W:2',
    'F:86',
    'N:2',
    'L:90',
    'N:5',
    'L:180',
    'E:2',
    'R:90',
    'E:3',
    'S:3',
    'N:4',
    'W:2',
    'F:64',
    'L:90',
    'F:81',
    'L:90',
    'E:4',
    'F:1',
    'E:3',
    'L:90',
    'W:5',
    'L:90',
    'N:3',
    'F:28',
    'F:3',
    'F:100',
    'E:5',
    'N:5',
    'F:32',
    'R:90',
    'W:1',
    'R:90',
    'S:3',
    'W:1',
    'W:5',
    'N:3',
    'F:27',
    'R:90',
    'W:2',
    'R:180',
    'W:3',
    'W:2',
    'N:2',
    'E:2',
    'S:1',
    'R:90',
    'W:3',
    'F:51',
    'E:5',
    'N:4',
    'W:3',
    'S:5',
    'R:90',
    'F:91',
    'S:3',
    'W:1',
    'S:4',
    'R:270',
    'N:5',
    'W:4',
    'F:94',
    'R:90',
    'N:4',
    'L:90',
    'N:4',
    'R:90',
    'F:35',
    'E:3',
    'F:6',
    'S:4',
    'F:98',
    'E:2',
    'L:180',
    'W:4',
    'N:5',
    'F:42',
    'S:3',
    'W:3',
    'N:1',
    'R:90',
    'S:5',
    'E:3',
    'S:3',
    'F:47',
    'S:1',
    'F:19',
    'W:5',
    'R:90',
    'F:17',
    'R:90',
    'N:4',
    'R:90',
    'F:57',
    'E:2',
    'F:73',
    'W:3',
    'F:52',
    'F:98',
    'R:90',
    'N:1',
    'F:88',
    'N:2',
    'E:4',
    'S:4',
    'R:90',
    'E:2',
    'R:90',
    'N:5',
    'F:75',
    'L:180',
    'F:61',
    'E:2',
    'S:4',
    'N:4',
    'W:1',
    'N:3',
    'E:2',
    'N:3',
    'F:44',
    'E:3',
    'L:180',
    'N:4',
    'F:16',
    'E:2',
    'S:1',
    'L:180',
    'R:90',
    'W:5',
    'F:65',
    'S:5',
    'F:31',
    'E:3',
    'L:90',
    'N:5',
    'E:4',
    'S:5',
    'E:4',
    'S:4',
    'R:90',
    'F:70',
    'R:90',
    'W:4',
    'L:90',
    'N:3',
    'W:1',
    'L:90',
    'S:3',
    'L:90',
    'F:91',
    'L:180',
    'S:3',
    'R:90',
    'N:5',
    'L:90',
    'S:5',
    'W:2',
    'F:18',
    'E:3',
    'F:19',
    'N:1',
    'F:70',
    'R:90',
    'E:3',
    'S:4',
    'F:46',
    'N:2',
    'S:3',
    'W:2',
    'S:4',
    'F:7',
    'L:90',
    'E:4',
    'R:90',
    'F:78',
    'S:1',
    'F:4',
    'L:90',
    'W:3',
    'F:78',
    'E:5',
    'L:270',
    'F:86',
    'E:3',
    'F:82',
    'L:90',
    'F:32',
    'R:90',
    'E:4',
    'L:90',
    'E:4',
    'L:90',
    'E:3',
    'F:63',
    'N:4',
    'E:4',
    'L:90',
    'F:70',
    'R:180',
    'F:30',
    'R:180',
    'F:40',
    'N:5',
    'R:90',
    'W:4',
    'F:16',
    'L:180',
    'S:1',
    'W:1',
    'R:180',
    'F:12',
    'W:3',
    'L:90',
    'F:93',
    'S:2',
    'L:270',
    'F:36',
    'L:90',
    'W:2',
    'N:2',
    'F:3',
    'W:2',
    'L:180',
    'L:90',
    'F:24',
    'S:1',
    'W:5',
    'R:90',
    'E:4',
    'L:180',
    'E:1',
    'S:1',
    'L:90',
    'F:94',
    'L:90',
    'F:55',
    'N:2',
    'E:5',
    'F:33',
    'E:3',
    'L:90',
    'N:2',
    'L:90',
    'S:2',
    'R:90',
    'F:67',
    'W:4',
    'F:79',
    'E:1',
    'E:5',
    'F:5',
    'S:5',
    'R:180',
    'F:5',
    'E:2',
    'E:5',
    'N:4',
    'W:5',
    'N:4',
    'W:5',
    'E:2',
    'L:90',
    'F:2',
    'L:90',
    'N:4',
    'E:3',
    'N:3',
    'R:90',
    'F:92',
    'N:5',
    'F:83',
    'L:90',
    'F:85',
    'R:90',
    'W:5',
    'S:2',
    'L:90',
    'E:1',
    'F:34',
    'E:3',
    'L:180',
    'W:3',
    'R:90',
    'F:29',
    'W:4',
    'L:90',
    'F:34',
    'W:1',
    'S:4',
    'E:2',
    'S:1',
    'W:2',
    'W:5',
    'L:90',
    'E:5',
    'N:4',
    'R:180',
    'N:2',
    'W:5',
    'R:90',
    'F:42',
    'W:3',
    'N:2',
    'L:90',
    'F:79',
    'W:2',
    'F:16',
    'N:5',
    'E:3',
    'F:52',
    'F:55',
    'L:90',
    'F:42',
    'L:90',
    'W:4',
    'S:2',
    'E:5',
    'L:90',
    'S:4',
    'F:34',
    'N:5',
    'N:1',
    'L:180',
    'L:90',
    'E:2',
    'L:90',
    'W:3',
    'L:90',
    'F:16',
    'E:2',
    'F:96',
    'N:3',
    'E:1',
    'F:34',
    'R:180',
    'S:2',
    'F:17',
    'W:1',
    'L:270',
    'F:7',
    'W:2',
    'N:1',
    'F:33',
    'N:4',
    'F:2',
    'N:5',
    'R:180',
    'F:10',
    'W:3',
    'L:90',
    'S:3',
    'E:2',
    'S:1',
    'F:85',
    'N:2',
    'F:1',
    'R:180',
    'F:10',
    'N:4',
    'W:3',
    'S:2',
    'R:180',
    'N:4',
    'W:3',
    'S:2',
    'S:4',
    'L:90',
    'E:5',
    'N:1',
    'F:34',
    'S:4',
    'W:2',
    'W:5',
    'F:62',
    'S:5',
    'E:5',
    'S:4',
    'F:100',
    'L:90',
    'W:2',
    'F:20',
    'S:2',
    'E:1',
    'R:180',
    'F:88',
    'N:5',
    'F:85',
    'N:2',
    'R:90',
    'N:1',
    'E:5',
    'F:83',
    'R:90',
    'W:1',
    'R:90',
    'E:1',
    'F:11',
    'E:3',
    'F:54',
    'N:5',
    'L:180',
    'F:54',
    'R:90',
    'S:2',
    'E:3',
    'L:90',
    'E:3',
    'N:5',
    'R:90',
    'W:1',
    'S:5',
    'R:270',
    'F:91',
    'E:3',
    'F:52',
    'W:1',
    'F:36',
    'W:1',
    'N:5',
    'F:53',
    'E:1',
    'R:180',
    'N:3',
    'F:12',
    'L:90',
    'S:5',
    'F:99',
    'S:1',
    'R:90',
    'S:4',
    'R:90',
    'S:1',
    'W:1',
    'N:2',
    'L:270',
    'W:5',
    'F:78',
    'S:2',
    'R:90',
    'F:37',
    'W:5',
    'R:90',
    'E:3',
    'S:2',
    'E:4',
    'L:90',
    'S:3',
    'W:4',
    'F:83',
    'L:180',
    'S:3',
    'R:90',
    'F:57',
    'W:1',
    'S:1',
    'L:180',
    'W:2',
    'N:1',
    'R:180',
    'N:1',
    'L:180',
    'W:3',
    'S:3',
    'R:180',
    'E:4',
    'F:77',
    'N:5',
    'S:3',
    'W:1',
    'N:4',
    'F:4',
    'N:5',
    'F:64',
    'W:1',
    'R:90',
    'N:2',
    'W:5',
    'L:90',
    'N:3',
    'L:90',
    'F:8',
    'L:90',
    'F:3',
    'S:5',
    'F:95',
    'R:90',
    'W:2',
    'F:15',
    'L:270',
    'F:49',
    'R:180',
    'S:3',
    'F:15',
    'N:5',
    'L:180',
    'S:2',
    'F:71',
    'S:5',
    'F:56',
    'W:1',
    'F:22',
    'F:90',
    'E:5',
    'F:68',
    'N:4',
    'R:180',
    'N:5',
    'E:4',
    'F:52',
    'E:5',
    'L:90',
    'E:3',
    'F:69',
    'W:4',
    'S:3',
    'L:90',
    'N:4',
    'R:90',
    'F:19'
];

function parseCommand(command) {
    let [op, arg] = command.split(':');
    return [op, parseInt(arg)];
}
parseCommand(TEST_INPUT[0]); //?

// Heading starts as EAST == 0 degrees
let state = {
    x: 0,
    y: 0,
    wx: 10,
    wy: 1
};
function DIST(state) { return Math.abs(state.x) + Math.abs(state.y) };

// let DX = {
//     0: 1,
//     90: 0,
//     180: -1,
//     270: 0
// };
// let DY = {
//     0: 0,
//     90: 1,
//     180: 0,
//     270: -1
// };

const ops = {
    N: function (arg) {
        state.wy += arg;
    },
    S: function (arg) {
        state.wy -= arg;
    },
    E: function (arg) {
        state.wx += arg;
    },
    W: function (arg) {
        state.wx -= arg;
    },
    L: function (arg) {
        if (arg == 270) {
            return ops.R(90);
        } else if (arg == 180) {
            state.wx *= -1;
            state.wy *= -1;
        } else {
            let wx = state.wx;
            state.wx = -state.wy;
            state.wy = wx;
        }
    },
    R: function (arg) {
        if (arg == 270) {
            return ops.L(90);
        } else if (arg == 180) {
            state.wx *= -1;
            state.wy *= -1;
        } else {
            let wx = state.wx;
            state.wx = state.wy;
            state.wy = -wx;
        }
    },
    F: function (arg) {
        arg //?
        state.x += (state.wx * arg);
        state.y += (state.wy * arg);
        state
    }
}

function runCommand(op, arg) {
    op //?
    arg //?

    ops[op](arg);
}

function run(input) {

    while (input.length > 0) {
        let [op, arg] = parseCommand(input.shift());
        runCommand(op, arg);
        console.log(`${op}(${arg}) -> (${state.x},${state.y}) @ <${state.wx},${state.wy}>`);
    }

}

// run(TEST_INPUT);
run(FULL_INPUT);
state //?
DIST(state) //?